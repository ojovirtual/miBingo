<html lang="es">
	<head>
		<meta name="viewport" content="width=device-width, initial-scale=1" />

		<link
			href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
			rel="stylesheet"
			integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
			crossorigin="anonymous"
		/>
		<link rel="preconnect" href="https://fonts.googleapis.com" />
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
		<link href="https://fonts.googleapis.com/css2?family=Pushster&display=swap" rel="stylesheet" />
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css" />
		<link rel="icon" href="/miBingo/icon/favicon.ico" sizes="any" />
		<link rel="apple-touch-icon" href="/miBingo/icon/apple-touch-icon.png" />
		<title>Bingo!</title>
		<link rel="manifest" href="manifest.json" />
		<style>
			/* Estilos para el contenedor principal */
			.bingo-container {
				display: flex;
				flex-direction: column;
				height: 100vh;
				padding: 0.5rem;
				overflow: hidden;
			}

			/* Pantallas verticales (portrait) */
			@media (orientation: portrait) {
				.content-wrapper {
					display: flex;
					flex-direction: column;
					height: 100%;
				}

				.tabla-section {
					order: 1;
					margin-bottom: 0.5rem;
					flex: 1;
					overflow: hidden;
					display: flex;
					flex-direction: column;
				}

				.numero-section {
					order: 2;
					margin-bottom: 0.5rem;
					text-align: center;
				}

				.controles-section {
					order: 3;
				}

				.numero-display {
					font-size: 5em !important;
				}

				.titulo-bingo {
					font-size: 2em !important;
					margin-bottom: 0.3rem !important;
				}

				.tabla-numeros td {
					padding: 0.25rem !important;
					font-size: 0.75rem !important;
				}
			}

			/* Pantallas horizontales (landscape) */
			@media (orientation: landscape) {
				.content-wrapper {
					display: grid;
					grid-template-columns: 1fr 2fr;
					grid-template-rows: 1fr auto;
					gap: 0.5rem;
					height: 100%;
				}

				.numero-section {
					grid-column: 1;
					grid-row: 1;
					display: flex;
					flex-direction: column;
					justify-content: center;
					align-items: center;
				}

				.tabla-section {
					grid-column: 2;
					grid-row: 1;
					overflow: hidden;
					display: flex;
					flex-direction: column;
				}

				.controles-section {
					grid-column: 1 / 3;
					grid-row: 2;
				}

				.numero-display {
					font-size: 6em !important;
				}

				.titulo-bingo {
					font-size: 2.5em !important;
					margin-bottom: 0.5rem !important;
				}

				.tabla-numeros td {
					padding: 0.3rem !important;
					font-size: 0.85rem !important;
				}
			}

			/* Ajustes para la tabla en móviles pequeños */
			@media (max-width: 576px) {
				.tabla-numeros td {
					padding: 0.2rem !important;
					font-size: 0.65rem !important;
				}

				.titulo-bingo {
					font-size: 1.5em !important;
				}

				.numero-display {
					font-size: 4em !important;
				}
			}

			/* Asegurar que la tabla sea responsiva y se ajuste sin scroll */
			.tabla-numeros {
				width: 100%;
				max-width: 100%;
				height: 100%;
				margin: 0;
			}

			.tabla-numeros td {
				font-weight: bold;
				vertical-align: middle;
			}

			/* Estilo para el último número marcado */
			.ultimo-numero {
				background-color: #ffc107 !important;
				color: #000 !important;
				border: 2px solid #ff6b00 !important;
				box-shadow: 0 0 10px rgba(255, 107, 0, 0.5);
			}

			/* Controles más compactos */
			.controles-section {
				padding: 0.25rem 0;
			}

			.controles-section .row {
				--bs-gutter-x: 0.5rem;
			}

			.controles-section .btn {
				padding: 0.5rem 1rem;
			}

			.controles-section label {
				font-size: 0.9rem;
				margin-bottom: 0.25rem;
			}
		</style>
	</head>
	<body class="bg-dark">
		<div class="bingo-container">
			<div class="content-wrapper">
				<!-- Sección del número actual -->
				<div class="numero-section">
					<h1 style="font-family: 'Pushster', cursive;" class="text-white titulo-bingo">Bingo!</h1>
					<h1
						name="numero"
						style="font-family: 'Pushster', cursive"
						class="badge rounded-circle bg-danger numero-display"
					></h1>
				</div>

				<!-- Sección de la tabla de números -->
				<div class="tabla-section">
					<table class="table table-bordered align-middle text-center bg-light tabla-numeros" name="tabla-numeros">
						<tbody></tbody>
					</table>
				</div>

				<!-- Sección de controles -->
				<div class="controles-section">
					<div class="row g-3">
						<div class="col-12 col-md-4">
							<button class="btn btn-primary btn-lg w-100" onclick="pausa();" name="btnPausa">
								<i class="bi bi-play-circle"></i> EMPEZAR
							</button>
						</div>
						<div class="col-12 col-md-4">
							<label for="rangeVelocidad" class="form-label text-white">
								Velocidad: <span id="valorVelocidad" class="badge bg-primary">8</span> segundos
							</label>
							<input
								type="range"
								class="form-range"
								min="2"
								max="8"
								step="1"
								id="rangeVelocidad"
								oninput="cambiaVelocidad();"
							/>
						</div>
						<div class="col-12 col-md-4 d-grid">
							<div class="btn-group dropup">
								<button
									class="btn btn-danger btn-lg dropdown-toggle"
									type="button"
									data-bs-toggle="dropdown"
									aria-expanded="false"
								>
									M&aacute;s
								</button>
								<ul class="dropdown-menu">
									<li>
										<a class="dropdown-item" href="#" onclick="if (confirm('\u00BFEmpezar de nuevo?')) reiniciar(); return false;">
											<i class="bi bi-arrow-clockwise"></i> Reiniciar
										</a>
									</li>
								</ul>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</body>
	<script
		src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
		crossorigin="anonymous"
	></script>
	<script src="js.js" type="text/javascript"></script>
	<script type="module">
		import { Workbox } from 'https://storage.googleapis.com/workbox-cdn/releases/6.2.0/workbox-window.prod.mjs';
		if ('serviceWorker' in navigator) {
			const wb = new Workbox('./sw.js');
			wb.addEventListener('message', (event) => {});
			wb.register();
		}
	</script>
</html>
